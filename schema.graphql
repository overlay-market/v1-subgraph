type Factory @entity {
  # factory address
  id: ID!
  # amount of markets created
  marketCount: BigInt!
  # amount of transactions all time
  txCount: BigInt!
  # total volumne all time in OVL
  totalVolumeOVL: BigDecimal!
  # total fees generated in OVL
  totalFeesOVL: BigDecimal!
  # total value locked in OVL
  totalValueLockedOVL: BigDecimal!
  # fee receipient address
  feeRecipient: ID!
  # owner of factory
  owner: ID!
}

type Market @entity {
  # market contract address
  id: ID!
  # base currency token address
  baseToken: String!
  # quote currency token address
  quoteToken: String!
  # feed contract address
  feedAddress: String!
  # factory contract address
  factoryAddress: String!
  # creation timestamp
  createdAtTimestamp: BigInt!
  # creation block number
  createdAtBlockNumber: BigInt!
  # funding constant
  k: BigInt!
  # market impact constant
  lmbda: BigInt!
  # bid-ask static spread constant
  delta: BigInt!
  # cap pay-off
  capPayoff: BigInt!
  # notional cap
  capNotional: BigInt!
  # leverage cap
  capLeverage: BigInt!
  # trailing window
  circuitBreakingWindow: BigInt!
  # maintenance margin constant
  maintenanceMarginFraction: BigInt!
  # burn rate for maintenance margin constant
  maintenanceMarginBurnRate: BigInt!
  # liquidation fees
  liquidationFeeRate: BigInt!
  # trading fees on build/unwind
  tradingFeeRate: BigInt!
  # minimum collateral to open a position in OVL
  minCollateral: BigInt!
  # upper limit for price feed changes since last update
  priceDriftUpperLimit: BigInt!
}
